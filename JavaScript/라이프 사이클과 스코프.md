## 라이플 사이클과 스코프

변수나 함수는 어디에 생길까? 바로 `스코프` 라고 하는 공간에 생긴다. 스코프라는 공간은 3가지 종류가 있는데 `글로벌 스코프`, `함수 스코프`, `블록 스코프` 가 있다. 글로벌 스코프는 애플리케이션이 실행되면 그 즉시 만들어지고 애플리케이션이 종료되면 그 때 사라진다. 함수 스코프는 함수를 통해서 만들 수 있는 스코프 공간이고, 블록 스코프는 코드를 묶고 있는 공간이라고 하면 모두 블록 스코프가 생긴다.

하지만 함수가 만들어지고 블록이 있다고 스코프가 생기는 것이 아니라 코드를 진행하면서 그 함수에 진입했을 때, 또는 그 블록에 진입했을 때 스코프가 생기고 해당 영역을 벗어나면 해당하는 스코프도 사라진다.

왜 이런 메커니즘을 갖고 있냐 하면은 자바스크립트는 변수 하나, 함수 하나를 일일이 만들고 생성하고를 제어하지 않게 되어 있고 스코프라고 하는 일종의 그룹핑 역할을 하는 공간으로 그 라이프 사이클을 만들게 된다.

컴퓨터 시스템의 자원이라는 것은 무한하지 않고 유한한 자원이기 때문에 필요할 때만 사용하고 필요 없을땐 버려지는게 훨씬 효과적으로 적은 자원을 유용하게 쓸 수 있는 메커니즘이다.

예시 코드를 통해 살펴보도록 하자.

```javascript
let myname = "kim";

function foo() {
  let x = 10;
  console.log(x); // x 접근 가능
  bar(); // bar 함수는 아래에서 만들어지는데 여기서 호출가능?
  // 자바스크립트의 호이스팅이라는 특별한 매커니즘. 스코프가 생성될 때 그 스코프 안에 만들어야될 함수나 변수들을 미리 만들고 시작.

  function bar() {
    ley y = 10; // y 접근 가능
    console.log(x); // x 접근 가능
    console.log(myname);
  }

  const zoo = function() {
    // 얘도 호출이 위에서 될까? 안됨. 함수문이 아니라 함수식이기 때문.
  }

  console.log(y); // 오류 바깥쪽에서 안쪽은 접근할 수 없음
  bar();

  // 블록 스코프
  if(x === 10) {
    let x = 100;

    console.log(x); // 100. 스코프에서 변수를 찾을 때는 현재 자기 자신이 있는 스코프에서 찾고 없으면 조금씩 바깥의 스코프에서 찾음. 최종적으로는 전역 스코프.
  }
}

foo();
console.log(x); // 오류 x는 foo 함수 스코프 안에만 있음!!
```

함수나 변수를 만들어 놓고 그 이후에 사용하는 방법이 좋다. 혹시라도 문제가 발생할 수 있기 때문이다. 그래서 항상 함수든 변수든 스코프 공간 최상단에 만들어 놓고 그 이후에 사용하는 습관을 들이는게 좋은 습관인 것 같다.
